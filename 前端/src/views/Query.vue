<template>
    <div class="flex flex-col h-screen bg-gray-100 dark:bg-gray-900">
        <header
            class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <svg @click="toIndex()" t="1719474734099" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21027" width="32" height="32"><path d="M808.23 68.16H504.35c-83.81 0-152 68.19-152 152 0 17.67 14.33 32 32 32s32-14.33 32-32c0-48.52 39.48-88 88-88h303.88c48.52 0 88 39.48 88 88V810.3c0 48.52-39.48 88-88 88H504.35c-48.52 0-88-39.48-88-88 0-17.67-14.33-32-32-32s-32 14.33-32 32c0 83.81 68.19 152 152 152h303.88c83.81 0 152-68.19 152-152V220.16c0-83.81-68.19-152-152-152z" fill="#2c2c2c" p-id="21028"></path><path d="M173.91 544.12h464.97c17.67 0 32-14.33 32-32s-14.33-32-32-32h-461.8l135.47-135.47c12.5-12.5 12.5-32.76 0-45.25-12.5-12.5-32.76-12.5-45.25 0L82.33 484.36c-9.61 5.52-16.09 15.88-16.09 27.76 0 0.26 0.01 0.51 0.02 0.77-0.21 8.46 2.9 16.98 9.35 23.44l191.96 191.96c6.25 6.25 14.44 9.37 22.63 9.37s16.38-3.12 22.63-9.37c12.5-12.5 12.5-32.76 0-45.25L173.91 544.12z" fill="#2c2c2c" p-id="21029"></path></svg>
                <svg t="1719472829385" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="6738" width="32" height="32">
                    <path
                        d="M515.427226 496.482761m-385.778196 0a385.778196 385.778196 0 1 0 771.556392 0 385.778196 385.778196 0 1 0-771.556392 0Z"
                        fill="#27BEC4" p-id="6739"></path>
                    <path
                        d="M449.844933 509.571664a66.133405 66.133405 0 0 0 65.444515 57.763396c1.412224 0 2.755559 0 4.133338-0.206667h2.101113a55.111171 55.111171 0 0 0 5.890007-0.826667h0.172222a66.236739 66.236739 0 0 0 53.285613-56.626729 1.274446 1.274446 0 0 1 0.482223 0v-9.196676h-132.26681v9.30001a1.446668 1.446668 0 0 1 0.516667 0z"
                        fill="#F2EBD9" p-id="6740"></path>
                    <path
                        d="M759.46638 702.667429l-3.926671-13.777793-19.736688-69.991187a40.851155 40.851155 0 0 0-19.495577-22.836691l-126.96236-55.662283-7.577786-3.444448h-0.206667V509.778331a1.274446 1.274446 0 0 0-0.482223 0 66.236739 66.236739 0 0 1-53.285613 56.626728h-0.172222a55.111171 55.111171 0 0 1-5.890007 0.826668h-2.101113c-1.377779 0-2.721114 0.206667-4.133338 0.206666a66.133405 66.133405 0 0 1-65.444516-57.763396 1.446668 1.446668 0 0 0-0.516667 0v27.314475h-0.172222l-134.781258 59.072286a41.023378 41.023378 0 0 0-19.530021 22.836691L275.349188 688.889636l-3.926671 13.777793a11.883346 11.883346 0 0 0 12.055568 15.913351H747.445255a11.883346 11.883346 0 0 0 12.021125-15.913351z"
                        fill="#F2F2F2" p-id="6741"></path>
                    <path
                        d="M312.687006 597.060648a41.333378 41.333378 0 0 0-17.635575 21.837801L271.422517 702.667429a11.883346 11.883346 0 0 0 12.055568 15.913351h62.310068c-0.757779-11.60779-7.543342-105.469003-33.101147-121.520132z"
                        fill="#F2F2F2" p-id="6742"></path>
                    <path
                        d="M515.427226 597.060648v-29.760032a66.16785 66.16785 0 0 1-65.444516-57.763396 1.446668 1.446668 0 0 0-0.516667 0v27.314474h-0.172222l33.411147 82.666756z"
                        fill="#C4C3C4" p-id="6743"></path>
                    <path
                        d="M360.358169 575.980625l59.967843 142.737933h33.927814l-81.047865-148.352384-12.847792 5.614451zM482.532746 619.656228l-33.411148-82.597867-75.915637 33.307813 81.047865 148.352384h61.1734v-121.65791l-32.89448 22.59558zM718.167446 597.060648a41.333378 41.333378 0 0 1 17.635575 21.837801l23.663359 83.76898a11.883346 11.883346 0 0 1-12.055569 15.913351h-62.344512c0.757779-11.60779 7.543342-105.469003 33.101147-121.520132z"
                        fill="#F2F2F2" p-id="6744"></path>
                    <path
                        d="M515.427226 597.060648v-29.760032a66.133405 66.133405 0 0 0 65.444515-57.763396 1.446668 1.446668 0 0 1 0.516668 0v27.314474l-33.376703 82.666756z"
                        fill="#C4C3C4" p-id="6745"></path>
                    <path
                        d="M670.496283 575.980625l-59.967843 142.737933h-33.89337l81.013421-148.352384 12.847792 5.614451zM548.356151 619.656228l33.376702-82.597867 75.915638 33.307813-81.013421 148.352384h-61.207844v-121.65791l32.928925 22.59558z"
                        fill="#F2F2F2" p-id="6746"></path>
                    <path d="M399.693767 322.434794h231.466918v98.683441h-231.466918z" fill="#F2EBD9" p-id="6747">
                    </path>
                    <path
                        d="M416.227118 409.854889a137.57126 99.200108 90 1 0 198.400216 0 137.57126 99.200108 90 1 0-198.400216 0Z"
                        fill="#F2EBD9" p-id="6748"></path>
                    <path
                        d="M598.093982 321.918127h33.066703v65.444516h-33.066703zM399.693767 321.918127h33.066703v65.444516h-33.066703z"
                        fill="#272528" p-id="6749"></path>
                    <path
                        d="M399.555989 322.434794c0-55.111171 51.666723-99.716775 115.733459-99.716775s115.733459 44.777826 115.733459 99.888998z"
                        fill="#272528" p-id="6750"></path>
                    <path
                        d="M620.276229 305.384776a33.066703 33.066703 0 1 1-33.066703-33.066703 33.066703 33.066703 0 0 1 33.066703 33.066703z"
                        fill="#272528" p-id="6751"></path>
                    <path
                        d="M564.889502 305.384776a33.066703 33.066703 0 1 1-33.066703-33.066703 33.066703 33.066703 0 0 1 33.066703 33.066703z"
                        fill="#272528" p-id="6752"></path>
                    <path
                        d="M416.227118 305.384776h115.733459v33.066702h-115.733459zM587.209526 305.384776h27.417808v33.066702h-27.417808z"
                        fill="#272528" p-id="6753"></path>
                    <path
                        d="M614.627334 354.98483a16.533351 16.533351 0 1 1-16.533352-16.533352 16.533351 16.533351 0 0 1 16.533352 16.533352zM449.293821 354.98483a16.533351 16.533351 0 1 1-16.533351-16.533352 16.533351 16.533351 0 0 1 16.533351 16.533352zM631.160685 388.051532a16.533351 16.533351 0 1 1-16.533351-16.533351 16.533351 16.533351 0 0 1 16.533351 16.533351z"
                        fill="#F2EBD9" p-id="6754"></path>
                    <path
                        d="M631.160685 421.118235a16.533351 16.533351 0 1 1-16.533351-16.533352 16.533351 16.533351 0 0 1 16.533351 16.533352z"
                        fill="#F2EBD9" p-id="6755"></path>
                    <path
                        d="M598.093982 388.051532h33.066703v33.066703h-33.066703zM432.76047 388.051532a16.533351 16.533351 0 1 1-16.533352-16.533351 16.533351 16.533351 0 0 1 16.533352 16.533351z"
                        fill="#F2EBD9" p-id="6756"></path>
                    <path
                        d="M432.76047 421.118235a16.533351 16.533351 0 1 1-16.533352-16.533352 16.533351 16.533351 0 0 1 16.533352 16.533352zM416.227118 354.98483h198.400216v33.066702h-198.400216z"
                        fill="#F2EBD9" p-id="6757"></path>
                    <path
                        d="M580.975075 500.306098a22.010024 22.010024 0 0 1-21.97558-22.010023 16.223351 16.223351 0 0 0-16.22335-16.188907H488.078307a16.188906 16.188906 0 0 0-16.188906 16.188907 21.975579 21.975579 0 0 1-32.997814 19.047798c18.186686 30.5867 45.707827 50.082277 76.535639 50.082277 31.000034 0 58.555619-19.495577 76.570083-50.082277a22.044468 22.044468 0 0 1-11.022234 2.962225z m-50.116721-5.786673h-31.000034a12.365569 12.365569 0 0 1 0-24.696693h31.000034a12.365569 12.365569 0 1 1 0 24.696693z"
                        fill="#272528" p-id="6758"></path>
                    <path d="M399.693767 317.647011h231.466918v11.366679h-231.466918z" fill="#F2F2F2" p-id="6759">
                    </path>
                    <path
                        d="M593.168421 323.330351a29.312254 29.312254 0 1 1-29.277809-29.27781 29.312254 29.312254 0 0 1 29.277809 29.27781z"
                        fill="#F2F2F2" p-id="6760"></path>
                    <path
                        d="M589.379528 323.330351a25.523361 25.523361 0 1 1-25.488916-25.488917 25.523361 25.523361 0 0 1 25.488916 25.488917z"
                        fill="#7DCECF" p-id="6761"></path>
                    <path d="M545.841703 341.241481a25.488917 25.488917 0 1 1 36.063373-36.063372z" fill="#FFFFFF"
                        p-id="6762"></path>
                    <path
                        d="M569.987285 323.330351a6.131118 6.131118 0 1 1-6.096673-6.096673 6.096673 6.096673 0 0 1 6.096673 6.096673z"
                        fill="#F2F2F2" p-id="6763"></path>
                    <path
                        d="M567.128393 323.330351a3.272226 3.272226 0 1 1-3.237781-3.237781 3.272226 3.272226 0 0 1 3.237781 3.237781z"
                        fill="#272528" p-id="6764"></path>
                    <path
                        d="M631.160685 657.889603m-34.444482 0a34.444482 34.444482 0 1 0 68.888964 0 34.444482 34.444482 0 1 0-68.888964 0Z"
                        fill="#FF642F" p-id="6765"></path>
                    <path
                        d="M651.827374 651.000706h-13.777793v-13.777792h-13.777793v13.777792h-13.777792v13.777793h13.777792v13.777793h13.777793v-13.777793h13.777793v-13.777793z"
                        fill="#FFFFFF" p-id="6766"></path>
                </svg>
                <h1 class="text-lg font-semibold text-gray-800 dark:text-gray-200">AI咨询室</h1>
            </div>
            <div class="ml-auto flex items-center gap-2">
                <div class="flex h-3 w-3 items-center justify-center rounded-full bg-[#00ff00]"></div>
                <svg t="1719472737136" class="icon" viewBox="0 0 1024 1024" version="1.1"
                    xmlns="http://www.w3.org/2000/svg" p-id="1656" width="32" height="32">
                    <path
                        d="M306 112h414c5.523 0 10 4.477 10 10v223c0 119.846-97.154 217-217 217s-217-97.154-217-217V122c0-5.523 4.477-10 10-10z"
                        fill="#7EDEC6" p-id="1657"></path>
                    <path
                        d="M296 112h434v240H296zM349.544 540.732C389.322 586.248 447.804 615 513 615c64.745 0 122.868-28.355 162.627-73.325l222.784 179.278c10.503 8.452 15.012 21.592 12.94 34.005 0.429 3.62 0.649 7.306 0.649 11.042v53c0 51.362-41.638 93-93 93H205c-51.362 0-93-41.638-93-93v-53c0-3.737 0.22-7.423 0.649-11.044a36.198 36.198 0 0 1-0.49-5.956 36 36 0 0 1 13.43-28.047z"
                        fill="#03AD82" p-id="1658"></path>
                    <path
                        d="M525 168.5c2.071 0 3.946 0.84 5.303 2.197A7.477 7.477 0 0 1 532.5 176v36.499l36.5 0.001c2.071 0 3.946 0.84 5.303 2.197A7.477 7.477 0 0 1 576.5 220v24c0 2.071-0.84 3.946-2.197 5.303A7.477 7.477 0 0 1 569 251.5l-36.5-0.001V288c0 2.071-0.84 3.946-2.197 5.303A7.477 7.477 0 0 1 525 295.5h-24a7.477 7.477 0 0 1-5.303-2.197A7.477 7.477 0 0 1 493.5 288v-36.501l-36.5 0.001a7.477 7.477 0 0 1-5.303-2.197A7.477 7.477 0 0 1 449.5 244v-24c0-2.071 0.84-3.946 2.197-5.303A7.477 7.477 0 0 1 457 212.5l36.5-0.001V176c0-2.071 0.84-3.946 2.197-5.303A7.477 7.477 0 0 1 501 168.5z"
                        fill="#FFFFFF" p-id="1659"></path>
                </svg>
                <div class="text-sm text-[#a9a9a9]">在线</div>
            </div>
        </header>
        <div class="flex-1 p-6 overflow-y-auto" id="chatContainer">
            <div class="space-y-4">
                <div v-for="message in messages" :key="message.id"
                    :class="{ 'flex items-start': !message.isUser, 'flex items-start justify-end': message.isUser }"
                    class="mb-4">
                    <div v-if="!message.isUser"><svg t="1719472829385" class="icon" viewBox="0 0 1024 1024"
                            version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6738" width="32" height="32">
                            <path
                                d="M515.427226 496.482761m-385.778196 0a385.778196 385.778196 0 1 0 771.556392 0 385.778196 385.778196 0 1 0-771.556392 0Z"
                                fill="#27BEC4" p-id="6739"></path>
                            <path
                                d="M449.844933 509.571664a66.133405 66.133405 0 0 0 65.444515 57.763396c1.412224 0 2.755559 0 4.133338-0.206667h2.101113a55.111171 55.111171 0 0 0 5.890007-0.826667h0.172222a66.236739 66.236739 0 0 0 53.285613-56.626729 1.274446 1.274446 0 0 1 0.482223 0v-9.196676h-132.26681v9.30001a1.446668 1.446668 0 0 1 0.516667 0z"
                                fill="#F2EBD9" p-id="6740"></path>
                            <path
                                d="M759.46638 702.667429l-3.926671-13.777793-19.736688-69.991187a40.851155 40.851155 0 0 0-19.495577-22.836691l-126.96236-55.662283-7.577786-3.444448h-0.206667V509.778331a1.274446 1.274446 0 0 0-0.482223 0 66.236739 66.236739 0 0 1-53.285613 56.626728h-0.172222a55.111171 55.111171 0 0 1-5.890007 0.826668h-2.101113c-1.377779 0-2.721114 0.206667-4.133338 0.206666a66.133405 66.133405 0 0 1-65.444516-57.763396 1.446668 1.446668 0 0 0-0.516667 0v27.314475h-0.172222l-134.781258 59.072286a41.023378 41.023378 0 0 0-19.530021 22.836691L275.349188 688.889636l-3.926671 13.777793a11.883346 11.883346 0 0 0 12.055568 15.913351H747.445255a11.883346 11.883346 0 0 0 12.021125-15.913351z"
                                fill="#F2F2F2" p-id="6741"></path>
                            <path
                                d="M312.687006 597.060648a41.333378 41.333378 0 0 0-17.635575 21.837801L271.422517 702.667429a11.883346 11.883346 0 0 0 12.055568 15.913351h62.310068c-0.757779-11.60779-7.543342-105.469003-33.101147-121.520132z"
                                fill="#F2F2F2" p-id="6742"></path>
                            <path
                                d="M515.427226 597.060648v-29.760032a66.16785 66.16785 0 0 1-65.444516-57.763396 1.446668 1.446668 0 0 0-0.516667 0v27.314474h-0.172222l33.411147 82.666756z"
                                fill="#C4C3C4" p-id="6743"></path>
                            <path
                                d="M360.358169 575.980625l59.967843 142.737933h33.927814l-81.047865-148.352384-12.847792 5.614451zM482.532746 619.656228l-33.411148-82.597867-75.915637 33.307813 81.047865 148.352384h61.1734v-121.65791l-32.89448 22.59558zM718.167446 597.060648a41.333378 41.333378 0 0 1 17.635575 21.837801l23.663359 83.76898a11.883346 11.883346 0 0 1-12.055569 15.913351h-62.344512c0.757779-11.60779 7.543342-105.469003 33.101147-121.520132z"
                                fill="#F2F2F2" p-id="6744"></path>
                            <path
                                d="M515.427226 597.060648v-29.760032a66.133405 66.133405 0 0 0 65.444515-57.763396 1.446668 1.446668 0 0 1 0.516668 0v27.314474l-33.376703 82.666756z"
                                fill="#C4C3C4" p-id="6745"></path>
                            <path
                                d="M670.496283 575.980625l-59.967843 142.737933h-33.89337l81.013421-148.352384 12.847792 5.614451zM548.356151 619.656228l33.376702-82.597867 75.915638 33.307813-81.013421 148.352384h-61.207844v-121.65791l32.928925 22.59558z"
                                fill="#F2F2F2" p-id="6746"></path>
                            <path d="M399.693767 322.434794h231.466918v98.683441h-231.466918z" fill="#F2EBD9"
                                p-id="6747"></path>
                            <path
                                d="M416.227118 409.854889a137.57126 99.200108 90 1 0 198.400216 0 137.57126 99.200108 90 1 0-198.400216 0Z"
                                fill="#F2EBD9" p-id="6748"></path>
                            <path
                                d="M598.093982 321.918127h33.066703v65.444516h-33.066703zM399.693767 321.918127h33.066703v65.444516h-33.066703z"
                                fill="#272528" p-id="6749"></path>
                            <path
                                d="M399.555989 322.434794c0-55.111171 51.666723-99.716775 115.733459-99.716775s115.733459 44.777826 115.733459 99.888998z"
                                fill="#272528" p-id="6750"></path>
                            <path
                                d="M620.276229 305.384776a33.066703 33.066703 0 1 1-33.066703-33.066703 33.066703 33.066703 0 0 1 33.066703 33.066703z"
                                fill="#272528" p-id="6751"></path>
                            <path
                                d="M564.889502 305.384776a33.066703 33.066703 0 1 1-33.066703-33.066703 33.066703 33.066703 0 0 1 33.066703 33.066703z"
                                fill="#272528" p-id="6752"></path>
                            <path
                                d="M416.227118 305.384776h115.733459v33.066702h-115.733459zM587.209526 305.384776h27.417808v33.066702h-27.417808z"
                                fill="#272528" p-id="6753"></path>
                            <path
                                d="M614.627334 354.98483a16.533351 16.533351 0 1 1-16.533352-16.533352 16.533351 16.533351 0 0 1 16.533352 16.533352zM449.293821 354.98483a16.533351 16.533351 0 1 1-16.533351-16.533352 16.533351 16.533351 0 0 1 16.533351 16.533352zM631.160685 388.051532a16.533351 16.533351 0 1 1-16.533351-16.533351 16.533351 16.533351 0 0 1 16.533351 16.533351z"
                                fill="#F2EBD9" p-id="6754"></path>
                            <path
                                d="M631.160685 421.118235a16.533351 16.533351 0 1 1-16.533351-16.533352 16.533351 16.533351 0 0 1 16.533351 16.533352z"
                                fill="#F2EBD9" p-id="6755"></path>
                            <path
                                d="M598.093982 388.051532h33.066703v33.066703h-33.066703zM432.76047 388.051532a16.533351 16.533351 0 1 1-16.533352-16.533351 16.533351 16.533351 0 0 1 16.533352 16.533351z"
                                fill="#F2EBD9" p-id="6756"></path>
                            <path
                                d="M432.76047 421.118235a16.533351 16.533351 0 1 1-16.533352-16.533352 16.533351 16.533351 0 0 1 16.533352 16.533352zM416.227118 354.98483h198.400216v33.066702h-198.400216z"
                                fill="#F2EBD9" p-id="6757"></path>
                            <path
                                d="M580.975075 500.306098a22.010024 22.010024 0 0 1-21.97558-22.010023 16.223351 16.223351 0 0 0-16.22335-16.188907H488.078307a16.188906 16.188906 0 0 0-16.188906 16.188907 21.975579 21.975579 0 0 1-32.997814 19.047798c18.186686 30.5867 45.707827 50.082277 76.535639 50.082277 31.000034 0 58.555619-19.495577 76.570083-50.082277a22.044468 22.044468 0 0 1-11.022234 2.962225z m-50.116721-5.786673h-31.000034a12.365569 12.365569 0 0 1 0-24.696693h31.000034a12.365569 12.365569 0 1 1 0 24.696693z"
                                fill="#272528" p-id="6758"></path>
                            <path d="M399.693767 317.647011h231.466918v11.366679h-231.466918z" fill="#F2F2F2"
                                p-id="6759"></path>
                            <path
                                d="M593.168421 323.330351a29.312254 29.312254 0 1 1-29.277809-29.27781 29.312254 29.312254 0 0 1 29.277809 29.27781z"
                                fill="#F2F2F2" p-id="6760"></path>
                            <path
                                d="M589.379528 323.330351a25.523361 25.523361 0 1 1-25.488916-25.488917 25.523361 25.523361 0 0 1 25.488916 25.488917z"
                                fill="#7DCECF" p-id="6761"></path>
                            <path d="M545.841703 341.241481a25.488917 25.488917 0 1 1 36.063373-36.063372z"
                                fill="#FFFFFF" p-id="6762"></path>
                            <path
                                d="M569.987285 323.330351a6.131118 6.131118 0 1 1-6.096673-6.096673 6.096673 6.096673 0 0 1 6.096673 6.096673z"
                                fill="#F2F2F2" p-id="6763"></path>
                            <path
                                d="M567.128393 323.330351a3.272226 3.272226 0 1 1-3.237781-3.237781 3.272226 3.272226 0 0 1 3.237781 3.237781z"
                                fill="#272528" p-id="6764"></path>
                            <path
                                d="M631.160685 657.889603m-34.444482 0a34.444482 34.444482 0 1 0 68.888964 0 34.444482 34.444482 0 1 0-68.888964 0Z"
                                fill="#FF642F" p-id="6765"></path>
                            <path
                                d="M651.827374 651.000706h-13.777793v-13.777792h-13.777793v13.777792h-13.777792v13.777793h13.777792v13.777793h13.777793v-13.777793h13.777793v-13.777793z"
                                fill="#FFFFFF" p-id="6766"></path>
                        </svg></div>
                    <div :class="message.isUser ? 'bg-blue-500 dark:bg-blue-700' : 'bg-white dark:bg-gray-800'"
                        class="rounded-lg px-4 py-3 max-w-[70%]">
                        <p :class="message.isUser ? 'text-white' : 'text-gray-800 dark:text-gray-200'">{{ message.text
                            }}</p>
                    </div>
                    <div v-if="message.isUser"><svg t="1719472963610" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="10427" width="32" height="32">
                            <path d="M302.9 275.9a207.7 211.7 0 1 0 415.4 0 207.7 211.7 0 1 0-415.4 0Z" fill="#2186F0"
                                p-id="10428"></path>
                            <path
                                d="M566.6 536H457.4c-198.8 0-360 151.2-360 350v23.9c0 27.6 22.4 50 50 50h729.3c27.6 0 50-22.4 50-50V886c-0.1-198.9-161.2-350-360.1-350z m220.3 230.5c0 9.7-4.8 17.5-10.6 17.5h-59v50.1c0 5.9-7.7 10.8-17.2 10.8h-34.5c-9.5 0-17.2-4.8-17.2-10.8V784h-56.9c-5.9 0-10.6-7.8-10.6-17.5v-35c0-9.7 4.8-17.5 10.6-17.5h56.9v-55.3c0-5.9 7.7-10.8 17.2-10.8H700c9.5 0 17.2 4.8 17.2 10.8V714h59c5.9 0 10.6 7.8 10.6 17.5v35z"
                                fill="#2186F0" p-id="10429"></path>
                        </svg></div>
                </div>
            </div>
        </div>
        <div class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4 flex items-center">
            <input v-model="messageInput" @keyup.enter="send"
                class="flex-1 bg-gray-100 dark:bg-gray-700 border-none rounded-lg py-2 px-4 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
                placeholder="输入您的消息..." type="text" />
            <button @click="send"
                class="ml-4 bg-blue-500 dark:bg-blue-700 text-white rounded-lg px-4 py-2 hover:bg-blue-600 dark:hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">发送</button>
        </div>
    </div>
</template>

<script>
import { ref } from 'vue';
import { inject } from 'vue';
import qs from 'qs';
import { useRouter } from "vue-router";
export default {
    setup() {
        const router = useRouter();
        const axios = inject('axios');
        const messageInput = ref('');
        const selectedRole = ref('teacher');
        const messages = ref([
            { id: 1, text: '你好，我是AI咨询医生。请告诉我您的问题。', isUser: false }
        ]);

        const send = () => {
            const text = messageInput.value.trim();
            if (text) {
                messages.value.push({ id: Date.now(), text, isUser: true });
                axios.post('/api/qwen', qs.stringify({
                    prompt: text,
                    maxTokens: 100,
                    role: "hospital"
                })).then(response => {
                    const reply = response.data.data.output.choices[0].message.content;
                    messages.value.push({ id: Date.now() + 1, text: reply, isUser: false });
                    console.log(reply);
                });
                messageInput.value = '';
            }
        };

        const toIndex = () =>{
                router.push('/index');
        };

        return {
            messageInput,
            selectedRole,
            messages,
            send,
            toIndex
        };
    }
};
</script>

<style>
/* You can add any global styles here if needed */
@import url("https://unpkg.com/tailwindcss@^2.0/dist/tailwind.min.css")
</style>